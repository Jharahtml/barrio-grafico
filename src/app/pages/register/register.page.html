<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>registrate peji</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        
        <h1>{{ titles[step].title }}</h1>
        <small>{{ titles[step].subtitle }}</small>
        
        <form [formGroup]="registerForm" (ngSubmit)="register()">
         
        <div *ngIf="step === 1">
          <ion-label for="">Correo</ion-label>
          <ion-input formControlName="email" label="" type="email" mode="md" fill="outline"></ion-input> 
          <!-- <ion-button (click)="next()">Siguiente</ion-button> -->
        </div>
        <div *ngIf="step === 2">
          <ion-label for="">Contraseña</ion-label>
          <ion-input formControlName="password" label="" type="password" mode="md" fill="outline"></ion-input>
          <ion-label for="">Confirmar contraseña</ion-label>
          <ion-input formControlName="confirmPassword" label="" type="password" mode="md" fill="outline"></ion-input>
          <small *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.value !== registerForm.get('password')?.value">
            Las contraseñas no coinciden.
          </small> 
        </div>

        <div *ngIf="step === 3">
          <ion-label for="">Nombre de usuario</ion-label>
          <ion-input formControlName="username" label="" type="text" mode="md" fill="outline"></ion-input>
        </div>

        <div *ngIf="step === 4">
          <ion-grid>
            <ion-row>
              <ion-col
                size="4"
                *ngFor="let avatar of avatars"
                class="avatar-option"
                [class.selected]="registerForm.get('avatar')?.value === avatar"
                (click)="selectAvatar(avatar)"
              >
                <img [src]="avatar" alt="avatar" />
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>

        <div *ngIf="step === 5">
          <ion-checkbox></ion-checkbox>
        </div>

        <ion-button (click)="step< 5 ? next() : register()">
          {{ step < 5 ? 'Siguiente' : 'Registrar' }}
        </ion-button>
        
        
      </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
